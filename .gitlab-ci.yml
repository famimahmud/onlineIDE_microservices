#This template uses jdk8 for veryfying and deplyoing images
image: maven:3.8.1-jdk-14

# Stages
stages: 
    - build
    - test
    - package

# Build job
build_compiler:
    stage: build
    script:
        - cd compiler
        - mvn clean compile

# Test job
test:
    stage: test
    script: mvn test


# Package job
package:
    stage: package
    script: mvn package
    variables:
        MAVEN_OPTS: "-DskipTests=true"


